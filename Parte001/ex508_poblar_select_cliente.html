<!-- Ejercicio 508: Poblar un elemento select de forma dinámica con datos de un servidor. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 508</title>
</head>
<body>
    <form>
        <p>Seleccione opción:</p>
        <fieldset id="opciones">
            <input type="radio" name="opcion" value="lenguajes">
            <label for="lenguajes">Lenguajes</label>

            <input type="radio" name="opcion" value="librerias">
            <label for="librerias">Librerías</label>

            <input type="radio" name="opcion" value="frameworks">
            <label for="frameworks">Frameworks</label>
        </fieldset>
        <select id="resultado" style='display: none'></select>
    </form>

    <script>

        function poblarSelect(){
            let opcionSeleccionada;
            let inputs = document.getElementsByTagName('input');
            for(let i = 0; i < inputs.length; ++i){
                if(inputs[i].checked){
                    opcionSeleccionada = input[i].value;
                    break;
                }
            }

            let solicitud = new XMLHttpRequest();
            solicitud.open('GET', `http://localhost:4900?opcion=${opcionSeleccionada}`);
            solicitud.onreadystatechange = obtenerDatos;
            solicitud.send(null);
        }

        document.getElementById('opciones').onclick = poblarSelect;

    </script>
</body>
</html>